<!doctype html>
<html>

<head>
    <title>unquote</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <script src="components/platform/platform.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script src="js/gmaps.js"></script>

    <link rel="import" href="components/font-roboto/roboto.html">
    <link rel="import" href="components/core-icons/core-icons.html">
    <link rel="import" href="components/core-toolbar/core-toolbar.html">
    <link rel="import" href="components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="components/paper-tabs/paper-tabs.html">
    <link rel="import" href="components/core-drawer-panel/core-drawer-panel.html">
    <link rel="import" href="components/core-menu/core-submenu.html">
    <link rel="import" href="components/core-item/core-item.html">
    <link rel="import" href="components/core-icon-button/core-icon-button.html">
    <link rel="import" href="components/core-scaffold/core-scaffold.html">
    <link rel="import" href="components/core-header-panel/core-header-panel.html">
    <link rel="import" href="components/core-menu/core-menu.html">
    <link rel="import" href="components/core-item/core-item.html">
    <link rel="import" href="components/core-pages/core-pages.html">

    <link rel='stylesheet' type='text/css' href='style.css'>
    <link rel="import" href="components/core-icon/core-icon.html">
    <link rel="import" href="components/core-input/core-input.html">
    <!--<link rel="import" href="elements/map.html">-->

    <style>

    </style>
</head>

<body unresolved touch-action="auto">
    <core-scaffold responsiveWidth="1333px" id="core_scaffold">
        <core-header-panel mode="seamed" id="core_header_panel" navigation flex>
            <core-toolbar id="core_toolbar">
                <core-icon icon="search" id="core_icon"></core-icon>
                <core-input placeholder="Search" id="core_input"></core-input>
            </core-toolbar>
            <core-menu selected="Item1" valueattr="label" selectedindex="0" id="core_menu" theme="core-light-theme">
                <core-item label="Item1" icon="settings" size="24" id="core_item" horizontal center layout active></core-item>
                <core-item label="Item2" icon="settings" size="24" id="core_item1" horizontal center layout></core-item>
            </core-menu>

        </core-header-panel>
        <div id="div" tool>
            <span>Сервис взаимопомощи</span>
            <span>
                <core-icon icon="account-circle"></core-icon>
            </span>
        </div>

        <core-pages class="content" id="page" selected="0">
            <div class="content"><div class="map" id="map"></div></div>
            <div>Two</div>
            <div>Three</div>
            <div>Fasdddddddddddddddddddddddddddddddddd asdddddddddddddddd asddddddd our</div>
            <div>Five</div>
        </core-pages>


    </core-scaffold>
</body>


</html>
<script>
    //    var core_icon_button = document.getElementById('core_icon_button');
    //
    //    core_icon_button.addEventListener('core-select', function() {
    //        //alert("Selected: " + tabs.selected);
    //    });

    document.querySelector("#core_item").onclick = function(e) {
        page = document.querySelector("core-pages#page")
                page.selected = 3;
        page.async(function() {
            if (page.selectedIndex == 0) {
                page.selectedItem.classList.remove('begin');
            } else if (page.selectedIndex == page.items.length - 1) {
                page.items[0].classList.add('begin');
            }
        });

    }

    document.querySelector("#core_item1").onclick = function(e) {
        page = document.querySelector("#page")
        page.selected = 0;
        page.async(function() {
            if (page.selectedIndex == 0) {
                page.selectedItem.classList.remove('begin');
            } else if (page.selectedIndex == page.items.length - 1) {
                page.items[0].classList.add('begin');
            }
        });

    }

    var map = new GMaps({
        div: '#map',
        lat: 46,
        lng: 30,
        width: screen.availWidth,
        height: screen.availHeight
    });

    GMaps.geolocate({
        success: function(position) {
            map.setCenter(position.coords.latitude, position.coords.longitude);
            map.addMarker({
                lat: position.coords.latitude,
                lng: position.coords.longitude,
                title: 'Lima',
                infoWindow: {content: '<H1>Помогите разработать эту систему</H1>'}
            });
        },
        error: function(error) {
            alert('Geolocation failed: '+error.message);
        },
        not_supported: function() {
            alert("Your browser does not support geolocation");
        }
    });

</script>
